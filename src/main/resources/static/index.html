async function sendMsg(textOverride) {
    const text = textOverride || input.value.trim();
    if (!text) return;

    addMsg(text, "user");
    input.value = "";

    const loading = addMsg("Thinkingâ€¦", "bot");

    console.log("Sending question to backend:", text);

    try {
        const res = await fetch(API, {
            method: "POST",
            headers: { "Content-Type": "text/plain" },
            body: text
        });

        console.log("HTTP status:", res.status);

        const reply = await res.text();
        console.log("Received reply:", reply);

        loading.textContent = reply || "No response.";
    } catch (err) {
        console.error("Fetch error:", err);
        loading.textContent = "Server error.";
    }
}
